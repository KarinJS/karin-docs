import{_ as p,c as k,G as s,ap as a,j as t,a as i,w as l,B as n,o as u}from"./chunks/framework.uLKXR9Uu.js";const F=JSON.parse('{"title":"通用数据","description":"","frontmatter":{"title":"通用数据","icon":"database"},"headers":[],"relativePath":"event/general-data.md","filePath":"event/general-data.md","lastUpdated":1718668560000}'),h={name:"event/general-data.md"},g={tabindex:"0"};function b(c,d,E,m,y,f){const r=n("NolebasePageProperties"),e=n("VPNolebaseInlineLinkPreview"),o=n("NolebaseGitChangelog");return u(),k("div",null,[s(r),d[25]||(d[25]=a('<h2 id="所有事件" tabindex="-1">所有事件 <a class="header-anchor" href="#所有事件" aria-label="Permalink to &quot;所有事件&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>karin</code>是基于<code>kritor</code>标准进行开发。<br> 大多数情况下都符合<code>kritor</code>的标准，如有冲突，请以<code>karin</code>为准。</p></div><p>所有事件都包含以下字段：</p>',3)),t("table",g,[d[24]||(d[24]=t("thead",null,[t("tr",null,[t("th",null,"属性"),t("th",null,"类型"),t("th",null,"说明")])],-1)),t("tbody",null,[d[12]||(d[12]=t("tr",null,[t("td",null,"self_id"),t("td",null,"string"),t("td",null,"机器人ID")],-1)),d[13]||(d[13]=t("tr",null,[t("td",null,"user_id"),t("td",null,"string"),t("td",null,"触发用户ID")],-1)),d[14]||(d[14]=t("tr",null,[t("td",null,"group_id"),t("td",null,"string"),t("td",null,[i("触发群ID("),t("code",null,"非群聊无值"),i(")")])],-1)),d[15]||(d[15]=t("tr",null,[t("td",null,"time"),t("td",null,"number"),t("td",null,"事件触发时间戳")],-1)),t("tr",null,[d[1]||(d[1]=t("td",null,"event",-1)),t("td",null,[s(e,{href:"#事件类型"},{default:l(()=>d[0]||(d[0]=[i("object")])),_:1})]),d[2]||(d[2]=t("td",null,"触发的事件类型",-1))]),t("tr",null,[d[4]||(d[4]=t("td",null,"sub_event",-1)),t("td",null,[s(e,{href:"#事件子类型"},{default:l(()=>d[3]||(d[3]=[i("string")])),_:1})]),d[5]||(d[5]=t("td",null,"触发事件子类型",-1))]),t("tr",null,[d[7]||(d[7]=t("td",null,"contact",-1)),t("td",null,[s(e,{href:"#消息来源"},{default:l(()=>d[6]||(d[6]=[i("object")])),_:1})]),d[8]||(d[8]=t("td",null,"消息来源信息",-1))]),t("tr",null,[d[10]||(d[10]=t("td",null,"sender",-1)),t("td",null,[s(e,{href:"#消息触发者"},{default:l(()=>d[9]||(d[9]=[i("object")])),_:1})]),d[11]||(d[11]=t("td",null,"消息触发者信息",-1))]),d[16]||(d[16]=t("tr",null,[t("td"),t("td"),t("td")],-1)),d[17]||(d[17]=t("tr",null,[t("td",null,"isMaster"),t("td",null,"boolean"),t("td",null,"是否为机器人主人")],-1)),d[18]||(d[18]=t("tr",null,[t("td",null,"isAdmin"),t("td",null,"boolean"),t("td",null,"是否为机器人管理员")],-1)),d[19]||(d[19]=t("tr",null,[t("td",null,"isPrivate"),t("td",null,"boolean"),t("td",null,"是否为私聊")],-1)),d[20]||(d[20]=t("tr",null,[t("td",null,"isGroup"),t("td",null,"boolean"),t("td",null,"是否为群聊")],-1)),d[21]||(d[21]=t("tr",null,[t("td",null,"isGuild"),t("td",null,"boolean"),t("td",null,"是否为频道")],-1)),d[22]||(d[22]=t("tr",null,[t("td",null,"store"),t("td",null,"Map"),t("td",null,"存储器 由开发者自行调用")],-1)),d[23]||(d[23]=t("tr",null,[t("td",null,"bot"),t("td",null,"Function"),t("td",null,"机器人自身实例")],-1))])]),d[26]||(d[26]=a(`<h2 id="事件类型" tabindex="-1">事件类型 <a class="header-anchor" href="#事件类型" aria-label="Permalink to &quot;事件类型&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p><code>event</code> 为 <code>message</code> 或 <code>message_sent</code> 时，数据是一致的。<br> 区别在于 <code>message</code> 是收到的消息，<code>message_sent</code> 是发送的消息。<br> 在大多数协议端中，<code>message_sent</code>事件均为用户手动开启。</p></div><table tabindex="0"><thead><tr><th>事件类型</th><th>说明</th></tr></thead><tbody><tr><td>message</td><td>消息事件</td></tr><tr><td>message_sent</td><td>bot自身触发的消息事件</td></tr><tr><td>notice</td><td>通知事件</td></tr><tr><td>request</td><td>请求事件</td></tr></tbody></table><h2 id="消息来源" tabindex="-1">消息来源 <a class="header-anchor" href="#消息来源" aria-label="Permalink to &quot;消息来源&quot;">​</a></h2><blockquote><p><code>contact</code>是一个<code>Object</code>对象哦~</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contact</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scene: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;group&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 场景</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  peer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 群为群ID、频道为频道ID、好友为好友ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sub_peer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 一般与\`peer\`相同或为空，频道场景为\`channel_id\`。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>以下是scene的值：</p><ul><li><code>group</code>: 群聊</li><li><code>private</code>: 私聊</li><li><code>guild</code>: 频道</li><li><code>nearby</code>: 附近的人</li><li><code>stranger</code>: 陌生人</li><li><code>stranger_from_group</code>: 群临时会话</li></ul><h2 id="消息触发者" tabindex="-1">消息触发者 <a class="header-anchor" href="#消息触发者" aria-label="Permalink to &quot;消息触发者&quot;">​</a></h2><blockquote><p><code>sender</code>是一个<code>Object</code>对象哦~</p></blockquote><div class="tip custom-block"><p class="custom-block-title">提示</p><p>无需关心<code>uin</code>字段，<code>user_id</code>默认使用<code>uid</code>，后续会废弃<code>uin</code>字段。<br> 这里的字段目前还处于不断完善中，可能会有变动。</p></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sender</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者uid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uin: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;123456&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者uin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nick: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;昵称&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送者昵称 可能为空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  role: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;群身份&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 仅在群聊生效 可能为空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>以下是role的值：</p><ul><li><code>owner</code>: 群主</li><li><code>admin</code>: 管理员</li><li><code>member</code>: 普通成员</li><li><code>unknown</code>: 未知</li></ul><h2 id="事件子类型" tabindex="-1">事件子类型 <a class="header-anchor" href="#事件子类型" aria-label="Permalink to &quot;事件子类型&quot;">​</a></h2><table tabindex="0"><thead><tr><th>场景名称</th><th>对应事件</th><th>说明</th></tr></thead><tbody><tr><td>group</td><td>message</td><td>群聊</td></tr><tr><td>private</td><td>message</td><td>私聊</td></tr><tr><td>guild</td><td>message</td><td>频道</td></tr><tr><td>nearby</td><td>message</td><td>附近的人</td></tr><tr><td>stranger</td><td>message</td><td>陌生人</td></tr><tr><td></td><td></td><td></td></tr><tr><td>friend_poke</td><td>notice</td><td>好友戳一戳</td></tr><tr><td>friend_recall</td><td>notice</td><td>好友消息撤回</td></tr><tr><td>group_poke</td><td>notice</td><td>群戳一戳</td></tr><tr><td>group_card_changed</td><td>notice</td><td>群名片变动</td></tr><tr><td>group_member_unique_title_changed</td><td>notice</td><td>群成员专属头衔改变</td></tr><tr><td>group_essence_changed</td><td>notice</td><td>群精华消息变动</td></tr><tr><td>group_recall</td><td>notice</td><td>群消息撤回</td></tr><tr><td>group_member_increase</td><td>notice</td><td>群成员增加</td></tr><tr><td>group_member_decrease</td><td>notice</td><td>群成员减少</td></tr><tr><td>group_admin_change</td><td>notice</td><td>群管理员变动</td></tr><tr><td>group_member_ban</td><td>notice</td><td>群成员禁言</td></tr><tr><td>group_sign_in</td><td>notice</td><td>群签到</td></tr><tr><td>group_whole_ban</td><td>notice</td><td>群全员禁言</td></tr><tr><td>group_file_uploaded</td><td>notice</td><td>群文件上传</td></tr><tr><td></td><td></td><td></td></tr><tr><td>friend_apply</td><td>request</td><td>新的好友申请</td></tr><tr><td>group_apply</td><td>request</td><td>新的加群请求</td></tr></tbody></table>`,16)),s(o)])}const D=p(h,[["render",b]]);export{F as __pageData,D as default};
